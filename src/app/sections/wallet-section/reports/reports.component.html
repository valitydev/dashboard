<div fxLayout="column" fxLayoutGap="32px" *transloco="let t; scope: 'wallet-section'; read: 'walletSection.reports'">
    <div
        gdColumns="1fr"
        gdColumns.gt-sm="repeat(2, auto)"
        gdAlignColumns="center center"
        gdAlignRows="space-between start"
        gdGap="32px"
    >
        <dsh-filters-group [formGroup]="form">
            <div class="dsh-body-1" fxHide.lt-md>{{ t('dateRangeDescription') }}:</div>
            <dsh-date-range-filter
                formControlName="dateRange"
                [default]="defaultDateRange"
                [maxDate]="defaultDateRange.end"
            ></dsh-date-range-filter>
            <dsh-identity-filter formControlName="identityID"></dsh-identity-filter>
        </dsh-filters-group>
        <button dsh-button color="accent" (click)="create()">
            {{ t('openCreateReport') }}
        </button>
    </div>

    <dsh-accordion-table
        [error]="this.form.value.identityID ? undefined : t('errors.identityNotSpecified')"
        [lastUpdated]="lastUpdated$ | async"
        [columns]="columns"
        [data]="reports$ | async"
        (update)="load()"
        (more)="more()"
        [hasMore]="hasMore$ | async"
        [inProgress]="isLoading$ | async"
    >
        <ng-template let-item>
            <div fxLayout="column" fxLayoutGap="24px">{{ item.id }}</div>
        </ng-template>
    </dsh-accordion-table>
</div>
