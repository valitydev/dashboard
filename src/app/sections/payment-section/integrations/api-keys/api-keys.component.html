<div fxLayout="column" fxLayoutGap="32px" *transloco="let t; scope: 'payment-section'; read: 'paymentSection.apiKeys'">
    <div
        fxLayout.lt-md="column"
        fxLayout="row"
        fxLayoutAlign.lt-md="center stretch"
        fxLayoutAlign="space-between"
        fxLayoutGap="24px"
    >
        <div fxLayoutAlign=" center" fxLayoutGap="16px" (click)="toggle()" style="cursor: pointer">
            <div class="dsh-subheading-1">
                {{ t('showInactive') }}
            </div>
            <mat-slide-toggle [checked]="showInactive"></mat-slide-toggle>
        </div>
        <button dsh-button color="accent" (click)="create()">{{ t('create') }}</button>
    </div>

    <ng-container *ngIf="(isLoading$ | async) || !(apiKeys$ | async); else keysList">
        <div fxLayout fxFlexAlign="center">
            <dsh-spinner></dsh-spinner>
        </div>
    </ng-container>
    <ng-template #keysList>
        <dsh-api-keys-list
            [apiKeys]="apiKeys$ | async"
            [expandedId]="expandedId$ | async"
            (expandedIdChange)="expandedIdChange($event)"
            [lastUpdated]="lastUpdated$ | async"
            (refreshData)="update()"
        ></dsh-api-keys-list>
        <dsh-empty-search-result
            *ngIf="(apiKeys$ | async)?.length === 0"
            [text]="t('emptyResult')"
        ></dsh-empty-search-result>
        <dsh-show-more-panel *ngIf="hasMore$ | async" (showMore)="more()"></dsh-show-more-panel>
    </ng-template>
</div>
